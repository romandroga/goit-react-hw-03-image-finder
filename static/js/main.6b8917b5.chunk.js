(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={overlayStyle:"Modal_overlayStyle__2twwa",modalStyle:"Modal_modalStyle__16RGZ"}},21:function(e,t,a){e.exports={ImageGalleryStyle:"ImageGallery_ImageGalleryStyle__1jorP"}},22:function(e,t,a){e.exports={ButtonStyle:"Button_ButtonStyle__Lwqyx",Button:"Button_Button__2qC03"}},24:function(e,t,a){e.exports={loaderStyle:"LoadingIndicator_loaderStyle__17wrd"}},26:function(e,t,a){e.exports=a(70)},31:function(e,t,a){},7:function(e,t,a){e.exports={SearchbarStyle:"Searchbar_SearchbarStyle__3DeT2",SearchForm:"Searchbar_SearchForm__2Yn-l",SearchFormButton:"Searchbar_SearchFormButton__2VTXj",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3bTwI",SearchFormInput:"Searchbar_SearchFormInput__3eJ2N"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=(a(31),a(8)),i=a(3),u=a(4),s=a(6),m=a(5),h=a(7),g=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){var a=t.target;e.setState({query:a.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.query;e.props.onSubmit(a)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("header",{className:h.SearchbarStyle},r.a.createElement("form",{className:h.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:h.SearchFormButton},r.a.createElement("span",{className:h.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:h.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(n.Component),y=a(72),d=a(9),p=function(e){var t=e.previewURL,a=e.tags,n=e.largeImg,o=e.onClick;return r.a.createElement("li",{className:d.ImageGalleryItemStyle},r.a.createElement("img",{src:t,alt:a,className:d.ImageGalleryItemImage,"large-img":n,onClick:o}))},f=a(21),S=function(e){var t=e.images,a=e.onClick;return r.a.createElement("ul",{className:f.ImageGalleryStyle},t.map((function(e){var t=e.webformatURL,n=e.tags,o=e.largeImageURL;return r.a.createElement(p,{key:Object(y.a)(),previewURL:t,tags:n,largeImg:o,onClick:a})})))},b=a(22),v=function(e){var t=e.onClick;return r.a.createElement("button",{type:"button",className:b.ButtonStyle,onClick:t},"Load more")},_=a(10),I=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).overlayRef=Object(n.createRef)(),e.handleKeyPress=function(t){"Escape"===t.code&&e.props.onClose()},e.handleOverlayClick=function(t){var a=e.overlayRef.current;a&&t.target!==a||e.props.onClose()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.src;return r.a.createElement("div",{className:_.overlayStyle,ref:this.overlayRef,onClick:this.handleOverlayClick},r.a.createElement("div",null,r.a.createElement("img",{className:_.modalStyle,alt:"modal",src:e})))}}]),a}(n.Component),E=a(23),w=a.n(E),k=a(24),C=function(){return r.a.createElement(w.a,{className:k.loaderStyle,type:"ThreeDots",color:"#00BFFF",height:80,width:80})},O=a(25),L=a.n(O),j=function(e,t){return L.a.get("".concat("https://pixabay.com/api/?q=").concat(e,"&page=").concat(t,"&key=").concat("15734458-d3f6ccb7088e2e7a90b6df1f7","&image_type=photo&orientation=horizontal&").concat("per_page=12"))},N=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],pageNumber:1,query:"",largeImageUrl:"",isModalOpen:!1,isLoading:!1},e.getSearchQuery=function(t){e.setState({query:t,gallery:[],pageNumber:1})},e.handleLoadMore=function(){e.setState((function(e){return{pageNumber:e.pageNumber+1}}))},e.closeModal=function(){return e.setState({isModalOpen:!1,largeImageUrl:""})},e.openModal=function(t){var a=t.target;return e.setState({isModalOpen:!0,largeImageUrl:a.attributes["large-img"].value})},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.query,o=n.pageNumber;if(r!==t.query)return this.setState({isLoading:!0}),void j(r,o).then((function(e){return a.setState({gallery:Object(c.a)(e.data.hits)})})).catch((function(e){return console.log(e)})).finally((function(){return a.setState({isLoading:!1})}));o!==t.pageNumber&&1!==o&&(this.setState({isLoading:!0}),j(r,o).then((function(e){a.setState({gallery:[].concat(Object(c.a)(t.gallery),Object(c.a)(e.data.hits))})})).catch((function(e){return console.log(e)})).finally((function(){a.setState({isLoading:!1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}},{key:"render",value:function(){var e=this.state,t=e.gallery,a=e.isLoading,n=e.largeImageUrl,o=e.isModalOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{onSubmit:this.getSearchQuery}),r.a.createElement(S,{images:t,onClick:this.openModal}),a&&r.a.createElement(C,null),!!t.length&&r.a.createElement(v,{onClick:this.handleLoadMore}),o&&r.a.createElement(I,{src:n,onClose:this.closeModal}))}}]),a}(n.Component);l.a.render(r.a.createElement(N,null),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItemStyle:"ImageGalleryItem_ImageGalleryItemStyle__2hC8e",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2YFXf"}}},[[26,1,2]]]);
//# sourceMappingURL=main.6b8917b5.chunk.js.map