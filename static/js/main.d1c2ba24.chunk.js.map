{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/LoadingIndicator/LoadingIndicator.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/LoadingIndicator/LoadingIndicator.jsx","services/gallery-api.js","services/utilities.js","components/App/App.jsx","index.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","target","setState","value","handleSubmit","e","preventDefault","props","onSubmit","this","className","SearchbarStyle","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","previewURL","tags","largeImg","onClick","ImageGalleryItemStyle","src","alt","ImageGalleryItemImage","large-img","ImageGallery","images","ImageGalleryStyle","map","webformatURL","largeImageURL","key","uuidv4","Button","ButtonStyle","Modal","overlayRef","createRef","handleKeyPress","code","onClose","handleOverlayClick","current","window","addEventListener","removeEventListener","overlayStyle","ref","modalStyle","LoadingIndicator","loaderStyle","color","height","width","fetchImages","pageNumber","axios","get","bottomScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","App","gallery","largeImageUrl","isModalOpen","isLoading","getSearchQuery","data","handleLoadMore","prevState","handleCloseModal","handleOpenModal","attributes","prevProps","then","res","length","hits","catch","error","console","log","finally","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d1c2ba24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlayStyle\":\"Modal_overlayStyle__2twwa\",\"modalStyle\":\"Modal_modalStyle__16RGZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryStyle\":\"ImageGallery_ImageGalleryStyle__1jorP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonStyle\":\"Button_ButtonStyle__Lwqyx\",\"Button\":\"Button_Button__2qC03\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderStyle\":\"LoadingIndicator_loaderStyle__17wrd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchbarStyle\":\"Searchbar_SearchbarStyle__3DeT2\",\"SearchForm\":\"Searchbar_SearchForm__2Yn-l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2VTXj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3bTwI\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3eJ2N\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  SearchbarStyle,\r\n  SearchForm,\r\n  SearchFormButton,\r\n  SearchFormButtonLabel,\r\n  SearchFormInput,\r\n} from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = ({ target }) => {\r\n    this.setState({ query: target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n    this.props.onSubmit(query);\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={SearchbarStyle}>\r\n        <form className={SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={SearchFormButton}>\r\n            <span className={SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ImageGalleryItemStyle,\r\n  ImageGalleryItemImage,\r\n} from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ previewURL, tags, largeImg, onClick }) => (\r\n  <li className={ImageGalleryItemStyle}>\r\n    <img\r\n      src={previewURL}\r\n      alt={tags}\r\n      className={ImageGalleryItemImage}\r\n      large-img={largeImg}\r\n      onClick={onClick}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  previewURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport { ImageGalleryStyle } from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n  <ul className={ImageGalleryStyle}>\r\n    {images.map(({ webformatURL, tags, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={uuidv4()}\r\n        previewURL={webformatURL}\r\n        tags={tags}\r\n        largeImg={largeImageURL}\r\n        onClick={onClick}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ButtonStyle } from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={ButtonStyle} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { overlayStyle, modalStyle } from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    src: PropTypes.string.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  overlayRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    const { current } = this.overlayRef;\r\n    if (current && e.target !== current) return;\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { src } = this.props;\r\n    return (\r\n      <div\r\n        className={overlayStyle}\r\n        ref={this.overlayRef}\r\n        onClick={this.handleOverlayClick}\r\n      >\r\n        <div>\r\n          <img className={modalStyle} alt=\"modal\" src={src} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport { loaderStyle } from './LoadingIndicator.module.css';\r\n\r\nconst LoadingIndicator = () => (\r\n  <Loader\r\n    className={loaderStyle}\r\n    type=\"ThreeDots\"\r\n    color=\"#00BFFF\"\r\n    height={80}\r\n    width={80}\r\n  />\r\n);\r\n\r\nexport default LoadingIndicator;\r\n","import axios from 'axios';\r\n\r\nconst KEY = '15734458-d3f6ccb7088e2e7a90b6df1f7';\r\nconst BASE_URL = 'https://pixabay.com/api/?q=';\r\nconst PER_PAGE = 'per_page=12';\r\n\r\nconst fetchImages = (query, pageNumber) => {\r\n  return axios.get(\r\n    `${BASE_URL}${query}&page=${pageNumber}&key=${KEY}&image_type=photo&orientation=horizontal&${PER_PAGE}`,\r\n  );\r\n};\r\n\r\nexport default fetchImages;\r\n","const bottomScroll = () => {\r\n  return window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nexport default bottomScroll;\r\n","import React, { Component } from 'react';\n// Components\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport LoadingIndicator from '../LoadingIndicator/LoadingIndicator';\n// Utilities\nimport fetchImages from '../../services/gallery-api';\nimport bottomScroll from '../../services/utilities';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    pageNumber: 1,\n    query: '',\n    largeImageUrl: '',\n    isModalOpen: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, pageNumber, gallery } = this.state;\n\n    if (query !== prevState.query || pageNumber !== prevState.pageNumber) {\n      this.setState({ isLoading: true });\n\n      fetchImages(query, pageNumber)\n        .then(res =>\n          !gallery.length\n            ? this.setState({ gallery: [...res.data.hits] })\n            : this.setState({\n                gallery: [...prevState.gallery, ...res.data.hits],\n              }),\n        )\n        .catch(error => console.log(error))\n        .finally(() => {\n          this.setState({ isLoading: false });\n\n          if (pageNumber !== 1) bottomScroll();\n        });\n    }\n  }\n\n  getSearchQuery = data => {\n    this.setState({ query: data, gallery: [], pageNumber: 1 });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n  handleCloseModal = () =>\n    this.setState({ isModalOpen: false, largeImageUrl: '' });\n\n  handleOpenModal = ({ target }) =>\n    this.setState({\n      isModalOpen: true,\n      largeImageUrl: target.attributes['large-img'].value,\n    });\n\n  render() {\n    const { gallery, isLoading, largeImageUrl, isModalOpen } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.getSearchQuery} />\n        <ImageGallery images={gallery} onClick={this.handleOpenModal} />\n        {isLoading && <LoadingIndicator />}\n        {!!gallery.length && <Button onClick={this.handleLoadMore} />}\n        {isModalOpen && (\n          <Modal src={largeImageUrl} onClose={this.handleCloseModal} />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemStyle\":\"ImageGalleryItem_ImageGalleryItemStyle__2hC8e\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2YFXf\"};"],"sourceRoot":""}