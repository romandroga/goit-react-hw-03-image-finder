(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={overlayStyle:"Modal_overlayStyle__2twwa",modalStyle:"Modal_modalStyle__16RGZ"}},21:function(e,t,a){e.exports={ImageGalleryStyle:"ImageGallery_ImageGalleryStyle__1jorP"}},22:function(e,t,a){e.exports={ButtonStyle:"Button_ButtonStyle__Lwqyx",Button:"Button_Button__2qC03"}},24:function(e,t,a){e.exports={loaderStyle:"LoadingIndicator_loaderStyle__17wrd"}},26:function(e,t,a){e.exports=a(70)},31:function(e,t,a){},7:function(e,t,a){e.exports={SearchbarStyle:"Searchbar_SearchbarStyle__3DeT2",SearchForm:"Searchbar_SearchForm__2Yn-l",SearchFormButton:"Searchbar_SearchFormButton__2VTXj",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3bTwI",SearchFormInput:"Searchbar_SearchFormInput__3eJ2N"}},70:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(20),o=a.n(l),c=(a(31),a(8)),i=a(3),u=a(4),s=a(6),m=a(5),h=a(7),y=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){var a=t.target;e.setState({query:a.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.query;e.props.onSubmit(a)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.query;return n.a.createElement("header",{className:h.SearchbarStyle},n.a.createElement("form",{className:h.SearchForm,onSubmit:this.handleSubmit},n.a.createElement("button",{type:"submit",className:h.SearchFormButton},n.a.createElement("span",{className:h.SearchFormButtonLabel},"Search")),n.a.createElement("input",{className:h.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(r.Component),g=a(72),d=a(9),p=function(e){var t=e.previewURL,a=e.tags,r=e.largeImg,l=e.onClick;return n.a.createElement("li",{className:d.ImageGalleryItemStyle},n.a.createElement("img",{src:t,alt:a,className:d.ImageGalleryItemImage,"large-img":r,onClick:l}))},f=a(21),S=function(e){var t=e.images,a=e.onClick;return n.a.createElement("ul",{className:f.ImageGalleryStyle},t.map((function(e){var t=e.webformatURL,r=e.tags,l=e.largeImageURL;return n.a.createElement(p,{key:Object(g.a)(),previewURL:t,tags:r,largeImg:l,onClick:a})})))},b=a(22),v=function(e){var t=e.onClick;return n.a.createElement("button",{type:"button",className:b.ButtonStyle,onClick:t},"Load more")},_=a(10),I=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).overlayRef=Object(r.createRef)(),e.handleKeyPress=function(t){"Escape"===t.code&&e.props.onClose()},e.handleOverlayClick=function(t){var a=e.overlayRef.current;a&&t.target!==a||e.props.onClose()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.src;return n.a.createElement("div",{className:_.overlayStyle,ref:this.overlayRef,onClick:this.handleOverlayClick},n.a.createElement("div",null,n.a.createElement("img",{className:_.modalStyle,alt:"modal",src:e})))}}]),a}(r.Component),E=a(23),C=a.n(E),O=a(24),w=function(){return n.a.createElement(C.a,{className:O.loaderStyle,type:"ThreeDots",color:"#00BFFF",height:80,width:80})},k=a(25),j=a.n(k),N=function(e,t){return j.a.get("".concat("https://pixabay.com/api/?q=").concat(e,"&page=").concat(t,"&key=").concat("15734458-d3f6ccb7088e2e7a90b6df1f7","&image_type=photo&orientation=horizontal&").concat("per_page=12"))},F=function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},L=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={gallery:[],pageNumber:1,query:"",largeImageUrl:"",isModalOpen:!1,isLoading:!1},e.getSearchQuery=function(t){e.setState({query:t,gallery:[],pageNumber:1})},e.handleLoadMore=function(){e.setState((function(e){return{pageNumber:e.pageNumber+1}}))},e.handleCloseModal=function(){return e.setState({isModalOpen:!1,largeImageUrl:""})},e.handleOpenModal=function(t){var a=t.target;return e.setState({isModalOpen:!0,largeImageUrl:a.attributes["large-img"].value})},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,r=this.state,n=r.query,l=r.pageNumber,o=r.gallery;n===t.query&&l===t.pageNumber||(this.setState({isLoading:!0}),N(n,l).then((function(e){return o.length?a.setState({gallery:[].concat(Object(c.a)(t.gallery),Object(c.a)(e.data.hits))}):a.setState({gallery:Object(c.a)(e.data.hits)})})).catch((function(e){return console.log(e)})).finally((function(){a.setState({isLoading:!1}),1!==l&&F()})))}},{key:"render",value:function(){var e=this.state,t=e.gallery,a=e.isLoading,r=e.largeImageUrl,l=e.isModalOpen;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y,{onSubmit:this.getSearchQuery}),n.a.createElement(S,{images:t,onClick:this.handleOpenModal}),a&&n.a.createElement(w,null),!!t.length&&n.a.createElement(v,{onClick:this.handleLoadMore}),l&&n.a.createElement(I,{src:r,onClose:this.handleCloseModal}))}}]),a}(r.Component);o.a.render(n.a.createElement(L,null),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItemStyle:"ImageGalleryItem_ImageGalleryItemStyle__2hC8e",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2YFXf"}}},[[26,1,2]]]);
//# sourceMappingURL=main.d1c2ba24.chunk.js.map